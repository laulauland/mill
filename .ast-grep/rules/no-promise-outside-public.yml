id: no-promise-outside-public
language: TypeScript
severity: error
message: Promise contracts are allowed only in boundary APIs.
ignores:
  - "**/src/public/**"
  - "**/*.api.ts"
  - "**/*.d.ts"
rule:
  any:
    - pattern: "Promise<$T>"
    - pattern: "$A: Promise<$T>"
    - pattern: "type $NAME = ($$$ARGS) => Promise<$T>"
    - pattern: "($$$ARGS) => Promise<$T>"
    - pattern: "new Promise<$T>($A)"
    - pattern: "new Promise($A)"
